# RGSS3 - サーバー変数

## ◆ 機能
ゲーム変数をサーバーに保存し、プレイヤー全体での変数として管理できます。
サーバー変数は睡工房のデータベースに保管されるようになっています。
ユーザー側でサーバーを準備する必要はありません。

## ◆ 使い方
### サーバー変数の取得
**書式：** `GET id id id id...`  
　　　　　　※idは半角スペースで繋げて30個まで書くことができる。  
ゲーム変数[id]にサーバー変数[id]の値を上書きします。  
[id]がサーバー変数に存在しない場合、ゲーム変数は0で上書きされます。  

**用途例：** 全プレイヤーのハイスコアを調べるなどで使えます。  
**使用例**
```
-サーバー変数 1->5, 2->15, 3->存在しないID
-ゲーム変数   1->10, 2->10, 3->10
  >GET 1 2 3
-ゲーム変数   1->5, 2->15, 3->0
```
___

### サーバー変数の更新
**書式：** `UPDATE id id id id...`  
　　　　　　※idは半角スペースで30個まで続けて書くことができる。  
サーバー変数[id]にゲーム変数[id]の値を上書きする。  
[id]がサーバー変数に存在しない場合、新規にゲーム変数[id]の値が記録されます。  

**使用例**
```
-サーバー変数 1->5, 2->15, 3->存在しないID
-ゲーム変数   1->10, 2->10, 3->10
  >UPDATE 1 2 3
-サーバー変数 1->10, 2->10, 3->10
```
___


### サーバー変数の足し算
**書式：** `ADD id id id id...`  
　　　　　　※idは半角スペースで30個まで続けて書くことができる。  
サーバー変数[id]にゲーム変数[id]の値を足します。
加算値をマイナスの値にしておけば、実質引き算も可能となります。
加算後、ゲーム変数[id]は加算後のサーバー変数[id]の値に上書きされます。  
[id]がサーバー変数に存在しない場合、新規にゲーム変数[id]の値が記録されます。  

**用途例：** エンディングに到達したプレイヤー数のカウントなどに使えます。  
**使用例**
```
-サーバー変数 1->10, 2->10, 3->存在しないID
-ゲーム変数   1->5, 2->-5, 3->10
  >ADD 1 2 3
-サーバー変数 1->15, 2->5, 3->10
-ゲーム変数   1->15, 2->5, 3->10
```
___


### サーバー変数とゲーム変数の大きい方を記録
**書式：** `MAX id id id id...`  
　　　　　　※idは半角スペースで30個まで続けて書くことができる。  
サーバー変数[id]とゲーム変数[id]の値を比較して大きい方を記録します。  
記録後、ゲーム変数[id]はサーバー変数[id]の値に上書きされます。  
[id]がサーバー変数に存在しない場合、新規にゲーム変数[id]の値が記録されます。  

**用途例：** ハイスコアの登録などに使えます。  
**使用例**
```
-サーバー変数 1->10, 2->10, 3->存在しないID
-ゲーム変数   1->5, 2->15, 3->10
  >MAX 1 2 3
-サーバー変数 1->10, 2->15, 3->10
-ゲーム変数   1->10, 2->15, 3->10
```
___

### サーバー変数とゲーム変数の小さい方を記録
**書式：** `MIN id id id id...`  
　　　　　　※idは半角スペースで30個まで続けて書くことができる。  
サーバー変数[id]とゲーム変数[id]の値を比較して小さい方を記録します。  
記録後、ゲーム変数[id]はサーバー変数[id]の値に上書きされます。  
[id]がサーバー変数に存在しない場合、新規にゲーム変数[id]の値が記録されます。  

**用途例：** タイムアタックで一番速い記録などに使えます。  
**使用例**
```
-サーバー変数 1->10, 2->10, 3->存在しないID
-ゲーム変数   1->5, 2->15, 3->10
  >MIN 1 2 3
-サーバー変数 1->10, 2->15, 3->10
-ゲーム変数   1->5, 2->10, 3->10
```
___

### ランキングサーバー（大きい順）
**書式：** `MAXRANK sid-eid nid`  
サーバー変数[sid]〜[eid]までをランキング情報として設定し、ゲーム変数[nid]を新しいスコアとして申請します。  
サーバー側でランキング情報が更新され、最新情報がゲーム変数[sid]〜[eid]に上書きされます。  

**使用例**
```
-サーバー変数 1->500, 2->400, 3->300, 4->200, 5->100
-ゲーム変数　 6->250
  >MAXRANK 1-5 6
-サーバー変数 1->500, 2->400, 3->300, 4->250, 5->200
-ゲーム変数　 1->500, 2->400, 3->300, 4->250, 5->200
```
___

### ランキングサーバー（小さい順）
**書式：** `MINRANK sid-eid nid`  
サーバー変数[sid]〜[eid]までをランキング情報として設定し、ゲーム変数[nid]を新しいスコアとして申請します。  
サーバー側でランキング情報が更新され、最新情報がゲーム変数[sid]〜[eid]に上書きされます。  

**使用例**
```
-サーバー変数 1->100, 2->200, 3->300, 4->400, 5->500
-ゲーム変数　 6->250
  >MINRANK 1-5 6
-サーバー変数 1->100, 2->200, 3->250, 4->300, 5->400
-ゲーム変数　 1->100, 2->200, 3->250, 4->300, 5->400
```

## ◆ License
[くいなちゃんライセンス](http://kuina.ch/others/license)

* 改変OK！  
* 再配布OK！  
* 二次創作OK！  
* 著作権表示義務なし！  
* 「くいなちゃんライセンス」のものを使った作品は「くいなちゃんライセンス」にする必要なし！
ゲーム変数をサーバーに保存し、プレイヤー全体での変数として管理できます。
